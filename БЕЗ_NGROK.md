# üöÄ –ó–∞–ø—É—Å–∫ –ë–ï–ó ngrok

Telegram Web App —Ç—Ä–µ–±—É–µ—Ç HTTPS, –Ω–æ –µ—Å—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã!

## ‚úÖ –í–∞—Ä–∏–∞–Ω—Ç 1: –ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –±–æ—Ç –ë–ï–ó Web App (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—ã—á–Ω–æ–≥–æ –±–æ—Ç–∞ –±–µ–∑ Web App –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.

### –ó–∞–ø—É—Å–∫:

```bash
cd tgbot
python bot_full.py
```

### –§—É–Ω–∫—Ü–∏–∏:
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—Å—Ç–∞ (–ø—Ä–æ—Å—Ç–æ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–µ–∫—Å—Ç –±–æ—Ç—É)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å OCR (–æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Ñ–æ—Ç–æ)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ .eml —Ñ–∞–π–ª–æ–≤ (–æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Ñ–∞–π–ª)

**–ë–µ–∑ HTTPS, –±–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ - –ø—Ä–æ—Å—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç!**

---

## ‚úÖ –í–∞—Ä–∏–∞–Ω—Ç 2: cloudflared (–±–µ—Å–ø–ª–∞—Ç–Ω–æ –æ—Ç Cloudflare)

–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ ngrok - –ø—Ä–æ—â–µ –∏ –±—ã—Å—Ç—Ä–µ–µ.

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞:

**Windows:**
```bash
winget install --id Cloudflare.cloudflared
```

–ò–ª–∏ —Å–∫–∞—á–∞–π—Ç–µ: https://github.com/cloudflare/cloudflared/releases

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ Flask API:**
   ```bash
   cd webapp
   python app.py
   ```

2. **–í –Ω–æ–≤–æ–º –æ–∫–Ω–µ –∑–∞–ø—É—Å—Ç–∏—Ç–µ cloudflared:**
   ```bash
   cloudflared tunnel --url http://localhost:5000
   ```

3. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ HTTPS URL** (–Ω–∞–ø—Ä–∏–º–µ—Ä: `https://abc-123.trycloudflare.com`)

4. **–û–±–Ω–æ–≤–∏—Ç–µ `tgbot/webapp_bot.py`:**
   ```python
   WEBAPP_URL = "https://abc-123.trycloudflare.com/webapp"
   ```

5. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:**
   ```bash
   cd tgbot
   python webapp_bot.py
   ```

**–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:** `start_with_cloudflared.bat` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞

---

## ‚úÖ –í–∞—Ä–∏–∞–Ω—Ç 3: –ü—Ä–æ—Å—Ç–æ–π –±–æ—Ç (—Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç)

–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –±–æ—Ç –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π.

```bash
cd tgbot
python bot.py
```

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤

| –í–∞—Ä–∏–∞–Ω—Ç | HTTPS | –ù–∞—Å—Ç—Ä–æ–π–∫–∞ | –§—É–Ω–∫—Ü–∏–∏ | –°–ª–æ–∂–Ω–æ—Å—Ç—å |
|---------|-------|-----------|---------|-----------|
| **bot_full.py** | ‚ùå –ù–µ –Ω—É–∂–µ–Ω | ‚úÖ –ù–µ—Ç | ‚úÖ –í—Å–µ | ‚≠ê –õ–µ–≥–∫–æ |
| **cloudflared** | ‚úÖ –î–∞ | ‚ö†Ô∏è –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è | ‚úÖ Web App | ‚≠ê‚≠ê –°—Ä–µ–¥–Ω–µ |
| **ngrok** | ‚úÖ –î–∞ | ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è | ‚úÖ Web App | ‚≠ê‚≠ê –°—Ä–µ–¥–Ω–µ |
| **bot.py** | ‚ùå –ù–µ –Ω—É–∂–µ–Ω | ‚úÖ –ù–µ—Ç | ‚ö†Ô∏è –¢–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç | ‚≠ê –õ–µ–≥–∫–æ |

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

–î–ª—è –Ω–∞—á–∞–ª–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ **`bot_full.py`** - –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ä–∞–∑—É –±–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏!

–ï—Å–ª–∏ –Ω—É–∂–µ–Ω Web App –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ **cloudflared** - –æ–Ω –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∏ –ø—Ä–æ—â–µ —á–µ–º ngrok.


